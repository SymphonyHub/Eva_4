<!-- index_content.ejs -->
<div class="container mt-5">
    <h2 class="text-center"></h2>
    <div class="d-flex justify-content-end mb-3">
        <input type="text" id="search" class="form-control form-control-sm w-25" placeholder="Buscar por ID o Nombre">
        <button id="searchButton" class="btn btn-primary btn-sm ml-2">Buscar</button>
    </div>
    <div class="table-responsive">
        <table class="table table-hover table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Especialidad</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody id="trainerTableBody">
                <% trainers.forEach(function(trainer) { %>
                    <tr>
                        <td><%= trainer.id %></td>
                        <td><%= trainer.name %></td>
                        <td><%= trainer.specialty %></td>
                        <td>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-primary btn-sm mr-2" data-toggle="modal" data-target="#editTrainerModal" data-id="<%= trainer.id %>" data-name="<%= trainer.name %>" data-specialty="<%= trainer.specialty %>">Editar</button>
                                <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteTrainerModal" data-id="<%= trainer.id %>">Eliminar</button>
                            </div>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
    <button type="button" class="btn btn-primary mt-3" data-toggle="modal" data-target="#createTrainerModal">Crear Nuevo Entrenador</button>
</div>

<!-- Modal para crear entrenador -->
<div class="modal fade" id="createTrainerModal" tabindex="-1" aria-labelledby="createTrainerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createTrainerModalLabel">Crear Nuevo Entrenador</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="/trainers" method="POST">
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="specialty">Especialidad</label>
                        <input type="text" class="form-control" id="specialty" name="specialty" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Crear</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal para editar entrenador -->
<div class="modal fade" id="editTrainerModal" tabindex="-1" aria-labelledby="editTrainerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editTrainerModalLabel">Editar Entrenador</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="editTrainerForm" method="POST">
                    <div class="form-group">
                        <label for="edit_name">Nombre</label>
                        <input type="text" class="form-control" id="edit_name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_specialty">Especialidad</label>
                        <input type="text" class="form-control" id="edit_specialty" name="specialty" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal para eliminar entrenador -->
<div class="modal fade" id="deleteTrainerModal" tabindex="-1" aria-labelledby="deleteTrainerModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteTrainerModalLabel">Eliminar Entrenador</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>¿Estás seguro de que deseas eliminar este entrenador?</p>
                <form id="deleteTrainerForm" method="POST">
                    <button type="submit" class="btn btn-danger">Eliminar</button>
                </form>
            </div>
        </div>
    </div>
</div>
